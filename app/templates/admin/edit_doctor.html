{% extends 'layout.html' %}
{% block body %} landing-page {% endblock %}

{% block title %}Edit - Doctor | NHS Hospital{% endblock %}

{% block navbar %}
<div class="container nav_bar">
    <div class="d-flex justify-content-between align-items-center mt-2">
        <div><a href="{{ url_for('main.landing_page') }}"><strong>NHS |</strong> &nbsp; Health Management System</a></div>
        <div> <a href="{{ url_for('admin.dashboard') }}"><strong> EDIT DOCTOR DATA |</strong> &nbsp; ‚Üê Back to Dashboard  </a>
    </div>
</div>
{% endblock %}

{% block body__content %}
<div class="main_container register_form d-flex justify-content-center align-items-start" style="min-height:40vh;">
    <div class="container" style="max-width: 500px;">
    <form method="POST" autocomplete="off" action="{{ url_for('admin.edit_doctor', doctor_id=doctor.doc_id) }}" class="p-4 bg-light rounded shadow">
      <h2 class="text-center text-black mb-2">Edit-Doctor Details</h2>
     
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div style="max-width: 600px; width: 100%; margin-bottom: 1rem;">
      {% for category, message in messages %}
        <div class=" text-center alert alert-{{ category }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

      <div class="mb-2">
        <label for="doc_name" class="form-label fw-semibold">Full Name:</label>
        <input type="text" class="form-control" value="{{ doctor.doc_name }}" id="doc_name" name="doc_name" required>
      </div>
      <div class="mb-2">
        <label for="doc_email" class="form-label fw-semibold">Email:</label>
        <input type="email" class="form-control" value="{{ doctor.doc_email }}" id="doc_email" name="doc_email" required>
      </div>
      <div class="mb-2">
        <label for="doc_nic" class="form-label fw-semibold">NIC:</label>
        <input type="text" class="form-control" id="doc_nic" value="{{ doctor.doc_nic }}" name="doc_nic">
      </div>
      <div class="mb-2">
        <label for="doc_tel" class="form-label fw-semibold">Phone Number:</label>
        <input type="text" class="form-control" value="{{ doctor.doc_tel }}" id="doc_tel" name="doc_tel">
      </div>
      <div class="mb-3">
        <label for="specialty_id" class="form-label fw-semibold">Specialty</label>
       <select class="form-select" id="specialty_id" name="specialty_id" required>
         <option value="" disabled selected>Select specialty</option>
        {% for spec in specialties %}
        <option value="{{ spec.id }}">{{ spec.s_name }}({{ spec.id }})</option>
       {% endfor %}
      </select>
      </div>
      <div class="mb-2">
        <label for="doc_password" class="form-label fw-semibold">New Password (leave blank to keep current):</label>
        <input class="form-control" type="password" name="new_password">
      </div>
      <button type="submit" class="btn btn-primary w-100 mt-2">SAVE DOCTOR</button>
    </form>
  </div>
</div>




{% endblock %}