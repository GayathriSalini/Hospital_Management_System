{% extends 'layout.html' %}
{% block body %} landing-page {% endblock %}
{% block title %} Add - Edit Medical Info | NHS Hospital {% endblock %}

{% block navbar %}
<div class="container nav_bar">
    <div class="d-flex justify-content-between align-items-center mt-2">
        <div><a href="{{ url_for('main.landing_page') }}"><strong>NHS |</strong> &nbsp; Health Management System</a></div>
        <div><a href="{{ url_for('patient.dashboard') }}"><strong>EDIT MEDICAL |</strong> ‚Üê Back to Dashboard</a></div>
    </div>       
</div>
{% endblock %}

{% block body__content %}
<div class="main_container register_form d-flex justify-content-center align-items-start" style="min-height:40vh; margin-top:2rem;">
  <div class="container" style="max-width: 500px;">

    <form method="POST" class="p-4 bg-light rounded shadow">
      <h2 class="text-center mb-2" style="color:black;">Add-Edit Medical Details</h2>

      <div class="mb-2">
        <label for="blood_group" class="form-label">Blood Group:</label>
        <select id="blood_group" name="blood_group" class="form-control">
          {% set groups = ['A+', 'A-', 'B+', 'B-', 'AB+', 'AB-', 'O+', 'O-'] %}
          {% for group in groups %}
            <option value="{{ group }}" {% if medical_details.blood_group == group %}selected{% endif %}>{{ group }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="mb-2">
        <label for="height_cm" class="form-label">Height (cm):</label>
        <input type="number" class="form-control" id="height_cm" name="height_cm" value="{{ medical_details.height_cm or '' }}">
      </div>

      <div class="mb-2">
        <label for="weight_kg" class="form-label">Weight (kg):</label>
        <input type="number" class="form-control" id="weight_kg" name="weight_kg" value="{{ medical_details.weight_kg or '' }}">
      </div>

      <div class="mb-2">
        <label for="allergies" class="form-label">Allergies:</label>
        <textarea class="form-control" id="allergies" name="allergies">{{ medical_details.allergies or '' }}</textarea>
      </div>

      <div class="mb-2">
        <label for="chronic_conditions" class="form-label">Chronic Conditions:</label>
        <textarea class="form-control" id="chronic_conditions" name="chronic_conditions">{{ medical_details.chronic_conditions or '' }}</textarea>
      </div>

      <button type="submit" class="btn btn-primary w-100 mt-2">Save Medical Details</button>
    </form>
  </div>
</div>
{% endblock %}

{% block footer %}
<footer class="py-3 text-center mt-auto">
  <small class="text-muted my-3 landing_footer" style="opacity:0.5;">&copy; 2025 | NHS Hospital Management System</small>
</footer>
{% endblock %}
